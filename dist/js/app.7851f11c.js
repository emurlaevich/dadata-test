(function(e){function t(t){for(var n,a,u=t[0],c=t[1],i=t[2],d=0,f=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var c=r[u];0!==s[c]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},s={app:0},o=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"0bc8":function(e,t,r){"use strict";r("2f18")},"0da5":function(e,t,r){"use strict";r("88ee")},"2f18":function(e,t,r){},5256:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"layout"},[r("Search"),r("Loader"),r("Error"),r("List",{attrs:{users:e.getUsers,isAdd:""}}),r("button",{staticClass:"layout-btn",attrs:{type:"button"},on:{click:e.clearSearch}},[e._v(" Остановить"),r("br"),e._v("автопоиск ")])],1),r("AddedList",{attrs:{users:e.getAddedUsers}})],1)])},o=[],a=r("5530"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"list"},e._l(e.users,(function(t){return r("li",{key:t.value,staticClass:"list__item"},[r("span",[e._v(" "+e._s(t.value)+" ")]),e.isAdd?r("button",{staticClass:"list-btn",on:{click:function(r){return e.addUser(t)}}},[e._v(" Добавить ")]):e._e()])})),0)},c=[],i={name:"List",props:{users:{type:Array,required:!0},isAdd:{type:Boolean,default:!1}},methods:{addUser:function(e){this.$store.commit("addUser",e)}}},l=i,d=(r("94b5"),r("2877")),f=Object(d["a"])(l,u,c,!1,null,"03a00861",null),p=f.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"input",attrs:{type:"text",placeholder:"Введите имя"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}})},m=[],h=r("1da1"),v=(r("96cf"),r("2f62")),g={name:"Search",watch:{query:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(e&&e.length>1)){r.next=3;break}return r.next=3,t.$store.dispatch("fetchByQuery",e);case 3:case"end":return r.stop()}}),r)})))()}},computed:{query:{get:function(){return this.$store.getters["query"]},set:function(e){this.setQuery(e)}}},methods:Object(a["a"])({},Object(v["d"])(["setQuery"]))},y=g,_=(r("0da5"),Object(d["a"])(y,b,m,!1,null,"49bf09d0",null)),O=_.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loading?r("div",{staticClass:"loader"},[e._v(" loading ")]):e._e()},x=[],w={name:"Loader",computed:Object(a["a"])({},Object(v["c"])(["loading"]))},E=w,C=Object(d["a"])(E,j,x,!1,null,"0d460ab8",null),L=C.exports,q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"error",class:{active:e.error}},[r("span",{staticClass:"error-text"},[e._v(e._s(e.error))]),r("button",{staticClass:"error-button",on:{click:e.close}},[e._v(" Close ")])])},k=[],A={name:"Error",computed:Object(a["a"])({},Object(v["c"])(["error"])),methods:Object(a["a"])(Object(a["a"])({},Object(v["b"])(["clearError"])),{},{close:function(){this.clearError()}})},S=A,$=(r("9078"),Object(d["a"])(S,q,k,!1,null,"44180278",null)),U=$.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"added"},[e.users.length>0?r("p",{staticClass:"addedListTitle"},[r("span",[e._v(" Список добавленных элементов: ")])]):e._e(),r("ul",{staticClass:"addedlist"},e._l(e.users,(function(t){return r("li",{key:t.value,staticClass:"addedlist__item"},[r("span",[e._v(" "+e._s(t.value)+" ")])])})),0)])},Q=[],T={name:"List",props:{users:{type:Array,required:!0},isAdd:{type:Boolean,default:!1}},methods:{addUser:function(e){this.$store.commit("addUser",e)}}},B=T,M=(r("0bc8"),Object(d["a"])(B,P,Q,!1,null,"53976f24",null)),R=M.exports,J={name:"App",components:{Error:U,Loader:L,Search:O,List:p,AddedList:R},computed:{getUsers:function(){return this.$store.getters.users},getAddedUsers:function(){return this.$store.getters.added}},methods:Object(a["a"])(Object(a["a"])({},Object(v["d"])(["clearQuery"])),{},{clearSearch:function(){this.clearQuery()}})},N=J,z=(r("034f"),Object(d["a"])(N,s,o,!1,null,null,null)),D=z.exports,F={state:{loading:!1,error:null},mutations:{setLoading:function(e,t){e.loading=t},setError:function(e,t){e.error=t},clearError:function(e){e.error=null}},actions:{setLoading:function(e,t){var r=e.commit;r("setLoading",t)},setError:function(e,t){var r=e.commit;r("setError",t)},clearError:function(e){var t=e.commit;t("clearError")}},getters:{loading:function(e){return e.loading},error:function(e){return e.error}}},G=(r("7db0"),r("d3b7"),r("d81d"),{state:{query:"",users:[],added:[]},mutations:{setUsers:function(e,t){e.users=t},addUser:function(e,t){var r=e.added.find((function(e){return e.value===t.value}));r||e.added.push(t)},setQuery:function(e,t){e.query=t},clearQuery:function(e){e.query=""}},actions:{fetchByQuery:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,s,o,a,u,c,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,n("clearError"),n("setLoading",!0),s="43b7e62f8b5e35438a657ce267979f961dcb9670",r.prev=4,o="https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/fio",a={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+s},body:JSON.stringify({query:t})},r.next=9,fetch(o,a);case 9:return u=r.sent,r.next=12,u.json();case 12:c=r.sent,i=c.suggestions.map((function(e){return e})),console.log(i),n("setUsers",i),n("setLoading",!1),r.next=24;break;case 19:throw r.prev=19,r.t0=r["catch"](4),n("setError",r.t0.message),n("setLoading",!1),r.t0;case 24:case"end":return r.stop()}}),r,null,[[4,19]])})))()}},getters:{users:function(e){return e.users},added:function(e){return e.added},query:function(e){return e.query}}});n["a"].use(v["a"]);var H=new v["a"].Store({modules:{shared:F,products:G}});n["a"].config.productionTip=!1,new n["a"]({store:H,render:function(e){return e(D)}}).$mount("#app")},"85ec":function(e,t,r){},"88ee":function(e,t,r){},9078:function(e,t,r){"use strict";r("bd8e")},"94b5":function(e,t,r){"use strict";r("5256")},bd8e:function(e,t,r){}});
//# sourceMappingURL=app.7851f11c.js.map